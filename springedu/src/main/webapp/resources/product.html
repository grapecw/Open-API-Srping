<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style>
img {
	width: 300px;
	height: 200px;
}
</style>
</head>
<body>

	<h1>구매하고자 하는 상품을 선택하십시오</h1>

	<a href="/springedu/product?applenum=1"><img src="/springedu/resources/images/apple.gif"></a>
	<a href="/springedu/product?bananannum=1"><img src="/springedu/resources/images/banana.jpg"></a>
	<a href="/springedu/product?hallabongnum=1"><img src="/springedu/resources/images/halabong.jpg"></a>
	<!-- setter을 통해 값을 올린다. -->
	<br>

	<button onclick="toClear()">장바구니 비우기</button>
	<br>
	<output id="output"></output>

	<script>
		var toClear = function() {
			var request = new XMLHttpRequest();
			//request.open('GET', '/springedu/product?pid=p000', true);
			request.open('GET', '/springedu/productdel', true);
			request.send();
			request.onload = function(event) {
				if (request.status == 200) {
					var jsonObj = JSON.parse(request.responseText);
					console.log(jsonObj);
					// XML 인 경우에는 responseXML을 사용해야 한다.
					var target = document.getElementById('output');
					target.innerHTML = "<h2>" + jsonObj.msg + "<h2><br>";
				}
			}
		}
	</script>
</body>
</html>